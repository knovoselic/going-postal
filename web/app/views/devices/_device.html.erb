<div class="group panel-default" style="border-left-color: #<%= device.color %>;">
  <div class="panel-heading clearfix">
    <h4 style="display: inline-block; margin-top: 5px;">Location: <b><%= device.location %></b></h4>
    <div class="btn-group pull-right">
      <button type="button" class="btn btn-default btn-sm dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
        <span class="glyphicon glyphicon-cog" aria-hidden="true"></span>
      </button>
      <ul class="dropdown-menu">
        <li>
          <a href="<%= device_path(device) %>" data-edit-location="<%= device.id %>" data-location="<%= device.location %>">
            <span class="glyphicon glyphicon-pencil" aria-hidden="true"></span> Edit location
          </a>
        </li>
        <li>
          <a href="<%= device_path(device) %>" data-confirm="Are you sure? Events associated with this device will also be deleted." data-method="delete">
            <span class="glyphicon glyphicon-trash" aria-hidden="true"></span> Delete
          </a>
        </li>
      </ul>
    </div>
  </div>
  <div class="panel-body">
    <table class="table table-hover table-stripped">
      <thead>
        <tr>
          <th>Timestamp</th>
          <th>Event type</th>
        </tr>
      </thead>
      <tbody>
        <% if device.events.empty? %>
          <tr>
            <td colspan="2" class="text-center">
              There are no recorded events for this device.
            </td>
          </tr>
        <% else %>
          <%= render partial: 'event_row', collection: device.events.entries, as: :event %>
        <% end %>
      </tbody>
    </table>
  </div>
</div>
